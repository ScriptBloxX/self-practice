24/8/2568
Filter Pagination

จุดที่ใช้ AI คือจำลองข้อมูลร้านอาหาร 50 ร้าน (GPT-4o)
prompt: สร้าง mock data ร้านอาหาร 50 ร้าน

วันนี้ได้ลองเขียนระบบ Filter ข้อมูลและแบ่งหน้า (pagination)
ได้เรียนรู้ว่าเวลาจะคำนวณตำแหน่งเริ่มต้นของข้อมูลในแต่ละหน้า ต้องใช้สูตร (page - 1) * perpage เพื่อให้หน้า 1 เริ่มที่ index 0 ของ array
ถ้าไม่ -1 จะทำให้ข้อมูล page แรกข้ามข้อมูลตั้งแต่ index 0 ไปเลย
และตำแหน่งสิ้นสุดของข้อมูลใช้ start + perpage เพื่อกำหนดช่วง array ที่จะ slice มาแสดงในหน้านั้นๆ
ส่วนการ filter ก็ใช้ function filter แบบ dynamic โดยส่ง field,operator,value เข้ามาทำให้ filter ได้หลายแบบ เช่น ==,>=,หรือตรวจสอบข้อความใน string (ชื่อร้าน)

และยังเข้าใจ slice(start, end) มากขึ้น มันจะตัดเอาข้อมูลตั้งแต่ index start ไปจนถึงก่อน index end (ไม่รวมตัวที่ index end)
ซึ่งเวลาคำนวณค่า start กับ end จะช่วยให้เราได้ข้อมูลเฉพาะช่วงที่ต้องการแสดงในแต่ละหน้า เช่น หน้า 1 จะ slice ตั้งแต่ index 0 ถึง 4 (ถ้า perpage=5)
ข้อดีคือ slice ไม่ทำลายข้อมูลต้นฉบับ (immutable) และทำงานเร็ว ทำให้สามารถนำมาใช้กับ pagination ได้ง่ายและสะดวกมาก
